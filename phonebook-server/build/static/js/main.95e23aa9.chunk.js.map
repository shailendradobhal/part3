{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Button.js","components/Person.js","components/Persons.js","services.js","components/Notification.js","App.js","index.js"],"names":["Filter","search","onHandleSearch","value","onChange","PersonForm","newName","onHandleAddName","newPhoneNumber","onHandleAddPhoneNumber","onHandleSubmit","onSubmit","type","Button","text","onHandleClick","onClick","Person","person","name","phone","onHandleDelete","key","Persons","persons","filter","toLowerCase","includes","map","id","baseUrl","axios","get","then","response","data","personDetails","put","post","delete","Notification","message","className","error","App","useState","setPersons","setNewName","setNewPhoneNumber","setSearch","errorMessage","setErrorMessage","useEffect","phoneService","event","target","preventDefault","find","isConfirm","window","confirm","updatePerson","p","catch","setTimeout","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.95e23aa9.chunk.js","sourcesContent":["import React from \"react\"\n\nconst Filter = ({ search, onHandleSearch }) => (\n  <div>\n    Filter show with <input value={search} onChange={onHandleSearch} />\n  </div>\n)\n\nexport default Filter\n","import React from \"react\"\n\nconst PersonForm = ({\n  newName,\n  onHandleAddName,\n  newPhoneNumber,\n  onHandleAddPhoneNumber,\n  onHandleSubmit\n}) => (\n  <form onSubmit={onHandleSubmit}>\n    <div>\n      <div>\n        name: <input value={newName} onChange={onHandleAddName} />\n      </div>\n      <div>\n        number:{\" \"}\n        <input value={newPhoneNumber} onChange={onHandleAddPhoneNumber} />\n      </div>\n    </div>\n    <div>\n      <button type=\"submit\">Add</button>\n    </div>\n  </form>\n)\n\nexport default PersonForm\n","import React from \"react\"\n\nconst Button = ({ text, onHandleClick }) => {\n  return <button onClick={onHandleClick}>{text}</button>\n}\n\nexport default Button\n","import React from \"react\"\nimport Button from \"./Button\"\n\nconst Person = ({ person: { name, phone }, onHandleDelete }) => (\n  <div key={name}>\n    {name} {phone}\n    <Button text=\"delete\" onHandleClick={onHandleDelete} />\n  </div>\n)\n\nexport default Person\n","import React from \"react\"\nimport Person from \"./Person\"\n\nconst Persons = ({ persons, search, onHandleDelete }) => {\n  return persons\n    .filter(person => person.name.toLowerCase().includes(search.toLowerCase()))\n    .map(person => (\n      <Person\n        person={person}\n        key={person.id}\n        onHandleDelete={onHandleDelete(person.id)}\n      />\n    ))\n}\n\nexport default Persons\n","import axios from \"axios\"\n\nconst baseUrl = `http://localhost:3001/api/persons`\n\nconst getAll = () => {\n  return axios.get(baseUrl).then(response => response.data)\n}\n\nconst create = personDetails => {\n  return axios.post(baseUrl, personDetails).then(response => response.data)\n}\n\nconst update = (id, personDetails) => {\n  return axios\n    .put(`${baseUrl}/${id}`, personDetails)\n    .then(person => person.data)\n}\n\nconst remove = id => {\n  return axios.delete(`${baseUrl}/${id}`)\n}\n\nexport default { getAll, update, create, remove }\n","import React from \"react\"\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  return <div className=\"error\">{message.error}</div>\n}\n\nexport default Notification\n","import React, { useState, useEffect } from \"react\"\n\nimport Filter from \"./components/Filter\"\nimport PersonForm from \"./components/PersonForm\"\nimport Persons from \"./components/Persons\"\nimport phoneService from \"./services\"\nimport Notification from \"./components/Notification\"\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState(\"\")\n  const [newPhoneNumber, setNewPhoneNumber] = useState(\"\")\n  const [search, setSearch] = useState(\"\")\n  const [errorMessage, setErrorMessage] = useState(\"\")\n\n  useEffect(() => {\n    phoneService.getAll().then(persons => setPersons(persons))\n  }, [])\n\n  const onHandleSubmit = event => {\n    event.preventDefault()\n\n    const person = persons.find(person => person.name === newName)\n\n    if (person) {\n      const isConfirm = window.confirm(\n        `${person.name} is already added to phonebook, replace the old number with new?`\n      )\n      const updatePerson = { ...person, phone: newPhoneNumber }\n      if (isConfirm) {\n        phoneService\n          .update(updatePerson.id, updatePerson)\n          .then(person => {\n            setPersons(\n              persons.map(p => (p.id === person.id ? updatePerson : p))\n            )\n          })\n          .catch(error => {\n            setErrorMessage(error.response.data)\n          })\n      }\n      setNewName(\"\")\n      setNewPhoneNumber(\"\")\n    } else {\n      const person = { name: newName, phone: newPhoneNumber }\n      phoneService\n        .create(person)\n        .then(person => {\n          setPersons([...persons, person])\n          setNewName(\"\")\n          setNewPhoneNumber(\"\")\n        })\n        .catch(error => {\n          setErrorMessage(error.response.data)\n          setTimeout(() => setErrorMessage(\"\"), 5000)\n        })\n    }\n  }\n\n  const onHandleAddName = event => {\n    setNewName(event.target.value)\n  }\n\n  const onHandleAddPhoneNumber = event => {\n    setNewPhoneNumber(event.target.value)\n  }\n\n  const onHandleSearch = event => {\n    setSearch(event.target.value)\n  }\n\n  const onHandleDelete = id => () => {\n    phoneService\n      .remove(id)\n      .then(() => setPersons(persons.filter(person => person.id !== id)))\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      {errorMessage && <Notification message={errorMessage} />}\n      <Filter search={search} onHandleSearch={onHandleSearch} />\n      <h2>Add a new name</h2>\n      <PersonForm\n        onHandleSubmit={onHandleSubmit}\n        newName={newName}\n        onHandleAddName={onHandleAddName}\n        newPhoneNumber={newPhoneNumber}\n        onHandleAddPhoneNumber={onHandleAddPhoneNumber}\n      />\n      <h2>Numbers</h2>\n      <Persons\n        persons={persons}\n        search={search}\n        onHandleDelete={onHandleDelete}\n      />\n    </div>\n  )\n}\n\nexport default App\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport App from \"./App\"\nimport \"./index.css\"\n\nReactDOM.render(<App />, document.getElementById(\"root\"))\n"],"sourceRoot":""}